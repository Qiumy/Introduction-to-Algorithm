# 数据结构的扩张

## 如何扩张数据结构

1. 选择基础数据结构
2. 确定在基础数据结构中添加哪些信息
3. 验证可用基础数据结构上的基本操作来维护新添加的信息
4. 设计新的操作

## 动态顺序统计树

动态顺序统计树在原红黑树的基础上增加一个数据域 x.size，其等于 x 左右孩子的节点数。

对新添加的属性 x.size，原有数据结构的操作都要对 size属性进行维护，如添加一个元素的时候，相应树枝上的元素的size属性也应该做更新，删除亦是。



## 区间树

区间树则是对红黑树扩张以便支持由区间构成的动态集合操作，红黑树用到的关键字值是区间树的区间左端点值。

区间树的节点还扩展了一个域max，就是以该节点为根的子树的所有区间元素的右端点的最大值。该域很容易在O(1)的时间内维护，那就是左子结点的max、右子结点的max和自身区间的右端点三者的最大值。

区间树提供一些与区间有关的操作，比如判断一个区间有没有与区间树中的任何一个区间元素有交集，判断一个点是否落在区间树中的任意一个区间元素中。

