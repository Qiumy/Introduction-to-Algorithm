# 第二部分

## 第8章 IO库

## 第9章 顺序容器概述

- 顺序容器类型

|              | 特点                                       |
| ------------ | ---------------------------------------- |
| vector       | 可变大小数组。支持快速随机访问。在尾部之外的位置插入或删除元素可能很慢。     |
| deque        | 双端队列。支持快速随机访问。在头尾部插入/删除速度很快。             |
| list         | 双向链表。只支持双向顺序访问。在list中任何位置进行插入/删除操作速度都很快。 |
| forward_list | 单向链表。只支持单向顺序访问。在链表任何位置进行插入/删除操作速度都很快。    |
| array        | 固定大小数组。支持快速随机访问。不能添加或删除元素。               |
| string       | 与vector相似的容器，但专门用于保存字符。随机访问快。在尾部插入/删除速度快。 |

- 当auto与begin或end结合使用时，获得的迭代器类型依赖于容器类型。
- 与内置数组一样，标准库array的大小也是类型的一部分。
- 我们不能对内置数组类型进行拷贝或对象复制操作，但array并无此限制

```c++
int digs[10] = {0,1,2,3,4,5,6,7,8,9};
int cpy[10] = digs;		// 错误：内置数组不支持拷贝或赋值
array<int, 10> digits = {0,1,2,3,4,5,6,7,8,9};
array<int, 10> copy = digits;	// 正确：只要数组类型匹配即合法
```

- 除array外，swap不对任何元素进行拷贝、删除或者插入操作，因此可以保证在常数时间内完成。但对于array容器，则会真正交换元素，所需的时间与array中元素的数目成正比。

### 容器的大小操作

- 大小相同且元素两两对应相同，则这两个容器相同；否则不相同。
- 大小不相同，但较小容器中每个元素都等于较大容器中的对应元素，则较小容器小于较大容器。
- 如果两个容器都不是另一个容器的前缀子序列，则它们的比较结果取决于第一个不相等元素的比较结果。

### 顺序容器操作

- 向一个vector、string或deque插入元素会使所有指向容器的迭代器引用和指针失效。
- 使用emplace函数，将参数传递给元素类型的构造函数
- 编写改变容器的循环程序

```c++
vector<int> vi = {0,1,2,3,4,5,6,7,8,9};
auto iter = vi.begin();
while (iter != vi.end()){
  	if (*iter % 2){
  		iter = vi.insert(iter, *iter);
    	iter += 2;
	}else{
  		iter = vi.erase(iter);
	}
}
```

- 不要保存end返回的迭代器

```c++
// 灾难：此循环的行为是未定义的
auto begin = v.begin(), end = v.end();
while (begin != end){
  	//做一些处理
  	//插入新值，对begin重新复制，否则他会失效
  	++begin;	// 向前移动begin，因为我们想在此元素之后插入元素
  	begin = v.insert(begin, 42);	// 插入新值
  	++begin;	// 向前移动begin跳过我们刚刚加入的元素
}
```

- 容器适配器：stack、queue、priority_queue。

## 第10章 泛型算法

## 第11章 关联容器

- 关联容器类型

| 按关键字有序保存 |                  |
| -------- | ---------------- |
| map      | 关联数组，保存关键字——值    |
| set      | 关键字即值，即只保存关键字的容器 |
| multimap | 关键字可重复出现的map     |
| multiset | 关键字可重复出现的set     |

| 无序集合             |                    |
| ---------------- | ------------------ |
| unorder_map      | 用哈希函数组织的map        |
| unorder_set      | 用哈希函数组织的set        |
| unorder_multimap | 哈希组织的map：关键字可以重复出现 |
| unorder_multiset | 哈希组织的set：关键字可以重复出现 |

- set的迭代器是const的。虽然set类型同时定义了iterator和const_iteratr类型，但两种类型都只允许只读访问set中的元素。
- 由于县标运算符可以插入一个新元素，所以只可以对非const的map使用下标操作。

## 第12章 动态内存

